(this.webpackJsonpgameboard=this.webpackJsonpgameboard||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),o=a.n(c),l=(a(26),a(12)),i=a(2),s=(a(27),a(15)),d=a(6),m=a(17),u=a(16),p=a(18),f=a(19),v=a(20),g=a(7);a(28);var E=function(e){return r.a.createElement("div",{className:"tray"},r.a.createElement("div",{className:"edit-icon"},r.a.createElement(s.a,null)),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(d.b,null)),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(g.a,null)),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(d.a,null)),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(u.a,null)),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(m.a,null)),r.a.createElement("div",{className:"edit-bar"}),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(p.a,{onClick:e.toggleTokens})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(f.a,{onClick:e.toggleMaps})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(g.b,{onClick:e.close})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(v.a,{onClick:e.toggleOptions})))},h=a(3),b=a(8),w=a(9),O=a(11),k=a(10),j=function(e){Object(O.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).drag=function(e){e.dataTransfer.setData("transfer",e.target.src)},e.noAllowDrop=function(e){e.stopPropagation()},e}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,draggable:"true",onDragStart:this.drag,onDragOver:this.noAllowDrop},this.props.children)}}]),a}(r.a.Component),N=function(e){Object(O.a)(a,e);var t=Object(k.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,onDrop:this.props.drop,onDragOver:this.props.allowDrop},this.props.children)}}]),a}(r.a.Component);a(29);var y=function(e){var t="token-drawer";return t="drawerDocked"===e.state?"token-drawer docked":"token-drawer",r.a.createElement("div",{className:t},r.a.createElement("form",{action:"/action_page.php",className:"token-form"},r.a.createElement("label",{for:"token-input"},r.a.createElement("div",{className:"add-icon"},r.a.createElement(h.a,null))),r.a.createElement("input",{id:"token-input",type:"file",onChange:e.getToken})),r.a.createElement("div",{className:"token-container"},e.tokens[0]&&e.tokens.map((function(e,t){return r.a.createElement(N,{id:t+"droppable"},r.a.createElement(j,{id:t+"token"},r.a.createElement("img",{alt:"...",draggable:"true",src:e.src,width:"100",height:"100"})))}))))};a(30);var C=function(e){var t="map-drawer";return t="drawerOpen"===e.state?"map-drawer open":"map-drawer",r.a.createElement("div",{className:t},r.a.createElement("form",{action:"/action_page.php",className:"map-form"},r.a.createElement("label",{for:"file-input"},r.a.createElement("div",{className:"add-icon"},r.a.createElement(h.a,null))),r.a.createElement("input",{id:"file-input",type:"file",onChange:e.getMap})),r.a.createElement("div",{className:"map-container"},e.maps[0]&&e.maps.map((function(t,a){return r.a.createElement("img",{src:t.src,alt:"...",id:a+"map",width:"100",height:"50",onClick:e.changeMap})}))))};a(31);var D=function(e){return r.a.createElement("div",{className:"options"},r.a.createElement("div",null,"Grid Size"),r.a.createElement("div",null,r.a.createElement("input",{type:"range",min:"1",max:"100",class:"slider",onInput:e.scaleGrid.bind(this)})),r.a.createElement("div",null,"Mode"),r.a.createElement("div",null,r.a.createElement(h.b,null)))};var S=function(e){var t=Object(n.useState)("drawerClosed"),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("drawerClosed"),d=Object(i.a)(s,2),m=d[0],u=d[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),v=f[0],g=f[1],h=Object(n.useState)(50),b=Object(i.a)(h,2),w=b[0],O=b[1],k=Object(n.useState)([]),j=Object(i.a)(k,2),S=j[0],T=j[1],I=Object(n.useState)([]),M=Object(i.a)(I,2),A=M[0],x=M[1],R=Object(n.useState)(null),W=Object(i.a)(R,2),G=W[0],B=W[1],F=Object(n.useState)([]),H=Object(i.a)(F,2),J=(H[0],H[1]),L=Object(n.useState)(null),U=Object(i.a)(L,2),_=U[0],z=U[1],P=Object(n.useState)(null),X=Object(i.a)(P,2),Y=X[0],$=X[1],q=Object(n.useRef)(null);function K(){"drawerOpen"===m&&Q(),o("drawerClosed"===c?"drawerDocked":"drawerClosed")}function Q(){"drawerDocked"===c&&K(),u("drawerClosed"===m?"drawerOpen":"drawerClosed")}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=q.current,n=a.getContext("2d");null==_||null==Y?(z(document.body.clientWidth),$(document.body.clientHeight),a.width=document.body.clientWidth,a.height=document.body.clientHeight):(a.width=_,a.height=Y);for(var r=a.width,c=a.height,o=0;o<=r;o+=e)n.moveTo(.5+o,0),n.lineTo(.5+o,c);for(var l=0;l<=c;l+=e)n.moveTo(0,.5+l),n.lineTo(r,.5+l);t?(t.onload=function(){n.drawImage(t,0,0,r,c),n.strokeStyle="black",n.stroke()},n.drawImage(t,0,0,r,c),n.strokeStyle="black",n.stroke()):(n.strokeStyle="black",n.stroke())}function Z(e,t,a){q.current.getContext("2d").drawImage(e,t,a,50,50)}return Object(n.useEffect)((function(){V()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(E,{toggleTokens:K,toggleMaps:Q,toggleOptions:function(){g(!v)},close:function(){g(!1),o("drawerClosed"),u("drawerClosed")}}),v&&r.a.createElement(D,{scaleGrid:function(e){var t=parseInt(e.target.value);G?V(t,G):V(t),O(t)}}),r.a.createElement(y,{state:c,getToken:function(e){for(var t=e.target.files,a=t.length,n=function(){var e=new FileReader,a=t[r];e.onloadend=function(){var t=new Image;t.src=e.result,x((function(e){return[].concat(Object(l.a)(e),[t])}))},e.readAsDataURL(a)},r=0;r<a;r++)n()},tokens:A}),r.a.createElement(C,{state:m,getMap:function(e){for(var t=e.target.files,a=t.length,n=function(){var e=new FileReader,a=t[r];e.onloadend=function(){var t=new Image;t.src=e.result,G||(B(t),V(w,t)),T((function(e){return[].concat(Object(l.a)(e),[t])}))},e.readAsDataURL(a)},r=0;r<a;r++)n()},maps:S,changeMap:function(e){var t=S[e.target.id[0]];B(t),V(w,t)}}),r.a.createElement(N,{drop:function(e){e.preventDefault();var t=e.dataTransfer.getData("transfer"),a=new Image;a.src=t;var n=e.clientX,r=e.clientY,c={src:a,x:n,y:r};J((function(e){return[].concat(Object(l.a)(e),[c])})),Z(a,n,r)},allowDrop:function(e){e.preventDefault()}},r.a.createElement("canvas",{ref:q,className:"map-canvas"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.c3e4a5a7.chunk.js.map