(this.webpackJsonpgameboard=this.webpackJsonpgameboard||[]).push([[0],{60:function(e,t,a){e.exports=a(99)},65:function(e,t,a){},66:function(e,t,a){},70:function(e,t){},71:function(e,t){},72:function(e,t){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(49),o=a.n(c),i=a(34),l={REGION:"YOUR_S3_UPLOADS_BUCKET_REGION",BUCKET:"YOUR_S3_UPLOADS_BUCKET_NAME"},u={REGION:"YOUR_API_GATEWAY_REGION",URL:"YOUR_API_GATEWAY_URL"},s={REGION:"us-west-2",USER_POOL_ID:"us-west-2_55lKkN867",APP_CLIENT_ID:"1jtkpri800074n0e9amfsekbja",IDENTITY_POOL_ID:"YOUR_IDENTITY_POOL_ID"},d=(a(65),a(29)),m=a(4),p=(a(66),a(16)),f=a(50),g=a(51),b=a(52),v=a(33);a(73);var h=function(e){return r.a.createElement("div",{className:"tray"},r.a.createElement("div",{className:"edit-icon"},r.a.createElement(f.a,{onClick:e.toggleTokens})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(g.a,{onClick:e.toggleMaps})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(v.a,{onClick:e.close})),r.a.createElement("div",{className:"edit-icon"},r.a.createElement(b.a,{onClick:e.toggleOptions})))},E=a(25),O=a(23),w=a(24),j=a(27),k=a(26),I=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).drag=function(e){e.dataTransfer.setData("transfer",e.target.src)},e.noAllowDrop=function(e){e.stopPropagation()},e}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,draggable:"true",onDragStart:this.drag,onDragOver:this.noAllowDrop},this.props.children)}}]),a}(r.a.Component),S=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,onDrop:this.props.drop,onDragOver:this.props.allowDrop},this.props.children)}}]),a}(r.a.Component);a(74);var y=function(e){var t="token-drawer";return t="drawerDocked"===e.state?"token-drawer docked":"token-drawer",r.a.createElement("div",{className:t},r.a.createElement("form",{action:"/action_page.php",className:"token-form"},r.a.createElement("label",{for:"token-input"},r.a.createElement("div",{className:"add-icon"},r.a.createElement(E.a,null))),r.a.createElement("input",{id:"token-input",type:"file",onChange:e.getToken})),"Add a token and drop it onto the board.",r.a.createElement("div",{className:"token-container"},e.tokens[0]&&e.tokens.map((function(e,t){return r.a.createElement(S,{id:t+"droppable"},r.a.createElement(I,{id:t+"token"},r.a.createElement("img",{alt:"...",draggable:"true",src:e.src,width:"100",height:"100"})))}))))};a(75);var C=function(e){var t="map-drawer";return t="drawerOpen"===e.state?"map-drawer open":"map-drawer",r.a.createElement("div",{className:t},r.a.createElement("form",{action:"/action_page.php",className:"map-form"},r.a.createElement("label",{for:"file-input"},r.a.createElement("div",{className:"add-icon"},r.a.createElement(E.a,null))),r.a.createElement("input",{id:"file-input",type:"file",onChange:e.getMap})),"Add a map. Switch maps by clicking on the thumbnails.",r.a.createElement("div",{className:"map-container"},e.maps[0]&&e.maps.map((function(t,a){return r.a.createElement("img",{src:t.src,alt:"...",id:a+"map",width:"100",height:"50",onClick:e.changeMap})}))))};a(76);var D=function(e){return r.a.createElement("div",{className:"options"},r.a.createElement("div",null,"Grid Size"),r.a.createElement("div",null,r.a.createElement("input",{type:"range",min:"10",max:"100",class:"slider",onInput:e.scaleGrid.bind(this)})),r.a.createElement("div",null,"Map Size"),r.a.createElement("div",null,r.a.createElement("input",{type:"range",min:"10",max:"100",class:"slider",onInput:e.scaleMap.bind(this)})))},N=a(9),_=a.n(N),T=a(20),A=a(105);a(78);var U=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(m.a)(i,2),u=l[0],s=l[1];function d(){return(d=Object(T.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,A.a.signIn(c,u);case 4:alert("Logged in"),e.authenticateLogin(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,"Login"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement("input",{autoFocus:!0,type:"email",value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{value:u,onChange:function(e){return s(e.target.value)},type:"password"}),r.a.createElement("button",{block:!0,bsSize:"large",disabled:!(c.length>0&&u.length>0),type:"submit"},"Login")),"Dont have an account?",r.a.createElement("button",{onClick:e.signUp},"Sign up here"),"or",r.a.createElement("button",{onClick:e.authenticateLogin},"Test without signing up")))};a(98);function P(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),l=Object(m.a)(i,2),u=(l[0],l[1]),s=Object(n.useState)(null),d=Object(m.a)(s,2),p=d[0],f=d[1],g=Object(n.useState)(null),b=Object(m.a)(g,2),v=b[0],h=b[1],E=Object(n.useState)(null),O=Object(m.a)(E,2),w=O[0],j=O[1],k=Object(n.useState)(null),I=Object(m.a)(k,2),S=I[0],y=I[1];function C(e){return D.apply(this,arguments)}function D(){return(D=Object(T.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v===w){e.next=4;break}return alert("Passwords do not match"),e.abrupt("return");case 4:return u(!0),e.prev=5,e.next=8,A.a.signUp({username:p,password:v});case 8:a=e.sent,u(!1),o(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),alert(e.t0.message),u(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function N(e){return U.apply(this,arguments)}function U(){return(U=Object(T.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),u(!0),t.prev=2,t.next=5,A.a.confirmSignUp(p,S);case 5:return t.next=7,A.a.signIn(p,v);case 7:e.confirmSignUp(),e.userHasAuthenticated(!0),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),alert(t.t0.message),u(!1);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"signup-form"},null===c?r.a.createElement("form",{onSubmit:C,className:"signup-form"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{autoFocus:!0,type:"email",onChange:function(e){return f(e.target.value)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){return h(e.target.value)}}),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",onChange:function(e){return j(e.target.value)}}),r.a.createElement("button",null,"Submit")):r.a.createElement("form",{onSubmit:N},r.a.createElement("label",null,"Confirmation Code"),r.a.createElement("input",{autoFocus:!0,type:"tel",onChange:function(e){return y(e.target.value)}}),r.a.createElement("button",null,"Submit"),r.a.createElement("h1",null,"Please check your email for the code.")))}var L=function(e){var t=Object(n.useState)("drawerClosed"),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)("drawerClosed"),l=Object(m.a)(i,2),u=l[0],s=l[1],f=Object(n.useState)(!1),g=Object(m.a)(f,2),b=g[0],v=g[1],E=Object(n.useState)(50),O=Object(m.a)(E,2),w=O[0],j=O[1],k=Object(n.useState)([]),I=Object(m.a)(k,2),N=I[0],_=I[1],T=Object(n.useState)(1),A=Object(m.a)(T,2),L=A[0],R=A[1],x=Object(n.useState)([]),M=Object(m.a)(x,2),G=M[0],Y=M[1],W=Object(n.useState)(null),H=Object(m.a)(W,2),B=H[0],F=H[1],K=Object(n.useState)([]),z=Object(m.a)(K,2),J=(z[0],z[1]),X=Object(n.useState)(null),Z=Object(m.a)(X,2),$=Z[0],q=Z[1],Q=Object(n.useState)(!1),V=Object(m.a)(Q,2),ee=V[0],te=V[1],ae=Object(n.useState)(!0),ne=Object(m.a)(ae,2),re=(ne[0],ne[1],Object(n.useState)(!1)),ce=Object(m.a)(re,2),oe=ce[0],ie=ce[1];function le(e,t){e.on("object:moving",(function(e){e.target.left=Math.round(e.target.left/t)*t,e.target.top=Math.round(e.target.top/t)*t,e.target.setCoords()})),e.on("mouse:dblclick",(function(a){e.getActiveObject().scaleToWidth(t),e.getActiveObject().scaleToHeight(t),e.renderAll()}))}function ue(e){var t=document.body.clientWidth/2,a=document.body.clientHeight/2;e.on("mouse:wheel",(function(n){var r=n.e.deltaY,c=e.getZoom();(c*=Math.pow(.999,r))>20&&(c=20),c<.5&&(c=.5),e.zoomToPoint({x:t,y:a},c),n.e.preventDefault(),n.e.stopPropagation()}))}function se(){te(!1)}function de(){"drawerOpen"===u&&me(),o("drawerClosed"===c?"drawerDocked":"drawerClosed")}function me(){"drawerDocked"===c&&de(),s("drawerClosed"===u?"drawerOpen":"drawerClosed")}function pe(e,t){for(var a=document.body.clientWidth,n=document.body.clientHeight,r=0;r<n/t;r++)e.add(new p.fabric.Line([0,r*t,a,r*t],{stroke:"616161",selectable:!1}));for(var c=0;c<a/t;c++)e.add(new p.fabric.Line([c*t,0,c*t,n],{stroke:"616161",selectable:!1}))}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,a=document.body.clientWidth,n=document.body.clientHeight;if(e){var r=a/2-e.width/2*t,c=n/2-e.height/2*t;p.fabric.Image.fromURL(e.src,(function(e){var a=e.set({left:r,top:c,selectable:!1}).scale(t);$.setBackgroundImage(a),$.renderAll()}))}}return Object(n.useEffect)((function(){var e=new p.fabric.Canvas("c",{selection:!1});le(e,w),q(e,w),pe(e,w),ue(e)}),[]),r.a.createElement("div",{className:"App"},ee&&r.a.createElement(P,{userHasAuthenticated:ie,confirmSignUp:se}),!oe&&r.a.createElement(U,{authenticateLogin:function(){ie(!0)},signUp:function(){te(!0)},confirmSignUp:se}),b&&r.a.createElement(D,{scaleGrid:function(e){var t=parseInt(e.target.value),a=$.getObjects("line");for(var n in a)$.remove(a[n]);$.off(),ue($),le($,t),j(t),fe(B),pe($,t)},scaleMap:function(e){var t=e.target.value/50;fe(B,t),R(t)}}),r.a.createElement(h,{toggleTokens:de,toggleMaps:me,toggleOptions:function(){v(!b)},close:function(){v(!1),o("drawerClosed"),s("drawerClosed")}}),r.a.createElement(y,{state:c,getToken:function(e){for(var t=e.target.files,a=t.length,n=function(e){var a=new FileReader,n=t[e];a.onloadend=function(){var e=new Image;e.src=a.result,Y((function(t){return[].concat(Object(d.a)(t),[e])}))},a.readAsDataURL(n)},r=0;r<a;r++)n(r)},tokens:G}),r.a.createElement(C,{state:u,getMap:function(e){for(var t=e.target.files,a=t.length,n=function(e){var a=new FileReader,n=t[e];a.onloadend=function(){var e=new Image;e.src=a.result,B||(F(e),e.onload=function(){fe(e)}),_((function(t){return[].concat(Object(d.a)(t),[e])}))},a.readAsDataURL(n)},r=0;r<a;r++)n(r)},maps:N,changeMap:function(e){var t=N[e.target.id[0]];F(t),fe(t)}}),r.a.createElement(S,{drop:function(e){e.preventDefault();var t=e.dataTransfer.getData("transfer"),a=new Image;a.src=t;var n=e.clientX,r=e.clientY,c={src:a,x:n,y:r};J((function(e){return[].concat(Object(d.a)(e),[c])})),function(e,t,a){p.fabric.Image.fromURL(e.src,(function(e){var n=e.set({left:t,top:a});n.scaleToWidth(w),n.scaleToHeight(w),$.add(n)}))}(a,n,r)},allowDrop:function(e){e.preventDefault()}},r.a.createElement("canvas",{id:"c",width:document.body.clientWidth,height:document.body.clientHeight})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.configure({Auth:{mandatorySignIn:!0,region:s.REGION,userPoolId:s.USER_POOL_ID,identityPoolId:s.IDENTITY_POOL_ID,userPoolWebClientId:s.APP_CLIENT_ID},Storage:{region:l.REGION,bucket:l.BUCKET,identityPoolId:s.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:u.URL,region:u.REGION}]}}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.398b0e65.chunk.js.map